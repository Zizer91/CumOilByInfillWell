**Описание проекта**

Этот проект представляет собой систему для прогнозирования добычи нефти на основе данных о скважинах, извлеченных из базы данных MySQL.

Проект использует модель машинного обучения Random Forest для предсказания параметра D (коэффициент падения дебита) и формулу Арпса для расчета накопленной добычи нефти за 6 месяцев, 12 месяцев и за весь срок эксплуатации скважины (примерно 20 лет).

Данные обрабатываются с помощью Pandas, модель оптимизируется через Optuna, а результаты визуализируются с помощью интерактивных графиков Plotly. Проект завернут в Docker для упрощенного воспроизведения, включая базу данных MySQL.


**Основные функции**

- Извлечение данных о скважинах из базы данных MySQL, включая геологические и производственные характеристики.
- Расчет расстояний до ближайших скважин с ненулевой закачкой и добычей.
- Обучение модели Random Forest с оптимизацией гиперпараметров для предсказания параметра D.
- Прогнозирование накопленной добычи нефти по формуле Арпса.
- Визуализация результатов в виде интерактивных бар-чартов (Plotly).
- Развертывание в Docker с автоматической инициализацией базы данных.

**Технологии**

- Python: Pandas, NumPy, Scikit-learn, Optuna, Plotly, mysql-connector-python
- Базы данных: MySQL
- Контейнеризация: Docker, Docker Compose
- Формат: Jupyter Notebook

**Работа с Jupyter Notebook**

Jupyter Notebook (oil_production_forecast.ipynb) является основным интерфейсом для выполнения проекта. Он организован следующим образом:

**Структура Notebook**

- Импорт библиотек: Загрузка необходимых библиотек (Pandas, NumPy, Scikit-learn, Optuna, Plotly, mysql-connector-python).
- Определение классов:
  - DataExtractor: Класс для подключения к базе данных MySQL, извлечения данных и формирования DataFrame с характеристиками скважин (стартовый дебит, KH, Lhor, расстояния до ближайших скважин, параметр D).
  - OilProductionForecaster: Класс для подготовки данных, обучения модели Random Forest, оценки качества и прогнозирования накопленной добычи.
- Основная функция main:
  - Настройка подключения к базе данных MySQL.
  - Извлечение данных и сохранение в d_teach_from_db.txt.
  - Разделение данных на обучающую и тестовую выборки.
  - Обучение модели с оптимизацией гиперпараметров через Optuna.
  - Оценка качества модели (MAE, MSE, R2).
  - Прогнозирование для новых данных из forecast_data.txt.
  - Визуализация результатов: три бар-чарта (для параметра D, накопленной добычи за 6 и 12 месяцев).
- Визуализация: Использует Plotly для создания интерактивных графиков, которые отображаются в браузере.

**Установка**

- Клонируйте репозиторий:git clone https://github.com/your-username/oil_production_forecast.git
- cd oil_production_forecast
- Запуск в Docker
  - Запустите контейнер: docker-compose up --build
  - Откройте Jupyter Notebook по адресу http://localhost:7777
  -  Запустите Jupyter Notebook oil_production_forecast.ipynb
  - Run для запуска кода Notebook

**Результат**
- Метрики модели:
  - MAE: Средняя абсолютная ошибка.
  - MSE: Среднеквадратичная ошибка.
  - R2: Коэффициент детерминации.
- Прогноз:
  - Таблица с колонками: Скважина, D, Накоп за 6 мес, Накоп за 12 мес, Все запасы.
  - Интерактивные графики (Plotly) для параметра D и накопленной добычи.

## Контакты
- Email: tsiterol@gmail.com
- GitHub: [Zizer91](https://github.com/Zizer91)
